<%- include('./partials/header') %>

<div class="editor-page">
  <div class="container page">
    <div class="row">

      <div class="col-md-10 offset-md-1 col-xs-12">
        <% if (typeof errorMessages !== 'undefined') { %>
          <ul class="error-messages">
            <% errorMessages.forEach(function (errorMessage) { %>
              <li><%= errorMessage %></li>
            <% }); %>
          </ul>
        <% } %>

        <form action="" method="POST" id="article-form">
          <fieldset>
            <fieldset class="form-group">
              <input type="text" class="form-control form-control-lg" placeholder="Article Title" name="title" value="<%= article.title %>">
            </fieldset>
            <fieldset class="form-group">
              <input type="text" class="form-control" placeholder="What's this article about?" name="description" value="<%= article.description %>">
            </fieldset>
            <fieldset class="form-group">
              <textarea class="form-control" rows="8" placeholder="Write your article (in markdown)" name="body"><%= article.body %></textarea>
            </fieldset>
            <fieldset class="form-group">
              <input type="text" class="form-control" placeholder="Enter tags" id="tag-input">
              <div class="tag-list" id="tag-list">
                <% if (article.tagList) article.tagList.forEach(function (tag) { %>
                  <span class="tag-default tag-pill">
                    <input type="hidden" name="tagList[]" value="<%= tag %>">
                    <i class="ion-close-round"></i><%= tag %>
                  </span>
                <% }); %>
              </div>
            </fieldset>
            <button class="btn btn-lg pull-xs-right btn-primary" type="submit">
              Publish Article
            </button>
          </fieldset>
          <input type="hidden" name="_csrf" value="<%- csrfToken %>">
        </form>
      </div>
    </div>
  </div>
</div>

<%- include('./partials/footer') %>
